<Page loaded="pageLoaded" unloaded="pageUnloaded" id="Page">
  <!-- <ActionBar title="AOT" class="action-bar"></ActionBar> -->
  <ActionBar android.iconVisibility="always"  title="off-track alert system"  class="header actions " ></ActionBar>

  <!-- Your UI components go here -->
  
  <DockLayout  width="100%" height="100%" class="fas">
    <AbsoluteLayout dock="top" width="100%" height="90%" class="map">
    <ScrollView width="100%"  height="100%">
        <AbsoluteLayout  width="100%"  height="100%" id="mapLayout" >

        </AbsoluteLayout>
    </ScrollView>
      <StackLayout width="80%" height="26%" class="detail-map" id="detailMap">
        <Label text="&#xf057;" width="30" height="20"  marginTop="5%" marginLeft="88%" tap="hideDetailMap" class="close"></Label>
        <StackLayout id="testView" width="100%" orientation="horizontal">
          <Label text="&#xf3c5;" color="#C70039" class="map-mark"></Label>
          <Label text="{{ roadName }}" class="track-name"></Label>
        </StackLayout>
        
        <StackLayout class="hr-light m-t-10" width="90%"></StackLayout>
        <StackLayout width="100%" orientation="horizontal">
          <Label class="user-RSSI" text="&#xf09e;"></Label>
          <Label text="{{ rssi }}" class="rssis"></Label>
          <Label class="user-road" text="&#xf018;"></Label>
          <Label class="road-total" text=" {{ km +'m'}}"></Label>
        </StackLayout>
      </StackLayout>
      
      <StackLayout width="26" height="26"  marginTop="3%" marginLeft="90%" class="detailMapBtn" id="detailMapBtn" tap="showDetailMap">
        <Label text="&#xf06e;"></Label>
      </StackLayout>
      <!-- dlg User-->
      <StackLayout class="lg-dialog" tap="hideDialog" id="user-data">
        <FlexboxLayout stretchLastChild="true" class="dialog" tap="noop">

            <FlexboxLayout  orientation="horizontal" class="title headermenu" height="11%">
             <Image src="~/images/icons8-resume-96.png" text="User information" stretch="none"  width="18" height="18" class="" horizontalAlignment="center"></Image>
                <Label text="Profile" class="text "></Label>
                <Button  horizontalAlignment="left" tap="hideDialog" text="&#xf057;"  class="close  left  "/>
            </FlexboxLayout>
       
            <StackLayout class="content bg_dlg_User " id="txtData" visibility="collapse">

              <StackLayout width="100%" orientation="horizontal" class="m-t-25p">
                <Label text="id card" class="txt-s"></Label>
                <TextField hint="" text="{{ idCard }}" keyboardType="number" class="selectbox_id" id="idCard"/>
              </StackLayout>

              <StackLayout width="100%" orientation="horizontal" class="m-t-10">
                <Label text="Name" class="txt-s"></Label>
                <TextField hint="" class="selectbox_user" text="{{ userName }}" id="userName"/>
              </StackLayout>

              <StackLayout width="100%" orientation="horizontal" class="m-t-10">
                <Label text="Tel" class="txt-s"></Label>
                <TextField hint="" class="selectbox_tel" text="{{ phoneNumber }}" keyboardType="number" id="phoneNumber"/>
              </StackLayout>

              <Button  tap="setUser" text="Edit" class="action buttonsedit m-t-15p"/>

            </StackLayout>
            <!-- PIC DATA -->
           <StackLayout class="content bg_dlg_User" id="picData" visibility="collapse">
            
              <StackLayout>
                <Label text="Card" class="txt-s"></Label>
                <AbsoluteLayout>
                  <Image id="userCard"  class="user-pic" width="250" height="150"></Image>
                  <Label  width="24" height="24" class="camera" text="&#xf030;" tap="changPic"></Label>
                </AbsoluteLayout>
              </StackLayout>
              <StackLayout width="100%" orientation="horizontal" class="lable_left">
                <Label text="Tel" class="txt-s "></Label>
                <TextField hint="" class="txt-f" text="{{ phoneNumber }}" keyboardType="number" id="phoneNumber"/>
              </StackLayout>
              
              <FlexboxLayout class="">
                   <Button  tap="setUser" text="Edit"  class="action buttonsedit2 "/>
              </FlexboxLayout>

          </StackLayout>
<!-- ************************************************************************************************************************************************ -->
          
<!-- ************************************************************************************************************************************************ -->
        </FlexboxLayout>
      </StackLayout> 
      <!-- dlg User-->

      <!-- dlg Alert-->
      <StackLayout class="lg-dialog" tap="hideDialog" id="user-alert">
        <FlexboxLayout stretchLastChild="true" class="dialog" tap="noop">
            <FlexboxLayout orientation="horizontal" class="title">
                <label text="Alert" class="text"/>
                <Button  tap="hideDialog" text="&#xf00d;" class="close"/>
            </FlexboxLayout>
            <StackLayout class="content">
              <StackLayout width="100%" orientation="horizontal" class="m-t-10p">
                <Label text="Out of the way" class="txt-s"></Label>
              </StackLayout>
            </StackLayout>
            <FlexboxLayout class="actions">
                <Button  tap="hideDialog" text="OK" class="action"/>
            </FlexboxLayout>
        </FlexboxLayout>
      </StackLayout> 
      <!-- dlg Alert-->

      <!-- dlg checkdata-->
      <StackLayout class="lg-dialog" tap="noop" id="checkdata">
        <FlexboxLayout stretchLastChild="true" class="dialog" tap="noop">
            <FlexboxLayout orientation="horizontal" class="title">
                <label text="wait data" class="text"/>
            </FlexboxLayout>
            
            <StackLayout class="content">
             
              <StackLayout width="100%" orientation="horizontal" class="m-t-10p">
                <Label text="wait data..." class="txt-s "></Label>  
                <ActivityIndicator busy="true" class="m-t-30p"/><!-- londing-->
              </StackLayout>
                  <StackLayout class="content">
                     <Label text="annotation/หมายเหตุ:" class="m-t-50p set_thai1"></Label>
                      <Label text="*กด REFRESH เพื่อค้นหาอุปกรณ์" class="set_thai1"></Label>  
                      <Label text="*Press REFRESH to search for devices " class="set_thai1"></Label>
                   </StackLayout>
            </StackLayout>
            <FlexboxLayout class="actions">
                <Button  tap="reMap" text="refresh " class="action"/>
            </FlexboxLayout>
        </FlexboxLayout>
      </StackLayout> 
      <!-- dlg checkdata-->

      <!-- dlg countUser-->
      <StackLayout class="lg-dialog" tap="noop" id="countUser">
        <FlexboxLayout stretchLastChild="true" class="dialog" tap="noop">
           <FlexboxLayout  orientation="horizontal" class="title headermenu" height="11%">
              <label text="Users" class="text"/>
              <Button  horizontalAlignment="left" tap="hideDialog" text="&#xf057;"  class="close  left  "/>
            </FlexboxLayout>
            <StackLayout class="content">
                <StackLayout orientation="horizontal" class="total-users">
                  <Label text="Total : " width="80%"></Label>
                  <Label text="{{countUser[0].countUser}}"  width="20%"></Label>
                </StackLayout>
              <ListView items="{{ countUser }}" itemTap="removeCard" class="users-selector">
                  <ListView.itemTemplate  let-country="item" let-i="index" let-odd="odd" let-even="even" class="list-item">
                      <StackLayout class="item" orientation="horizontal">
                          <Label text="&#xf21d;" color="#3898E7" class="txt-count-icon"></Label>
                          <Label text="{{ phone_number }}" class="txt-count-name"></Label>
                          <Label text="{{ name }}" class="txt-count-point"></Label>
                      </StackLayout>
                  </ListView.itemTemplate>
              </ListView>
            </StackLayout>

        </FlexboxLayout>
      </StackLayout> 
      <!-- dlg countUser-->

      <!-- dlg Start-->
      <StackLayout class="lg-dialog" tap="noop" id="pointStart">
        <FlexboxLayout stretchLastChild="true" class="dialog" tap="noop">
            <FlexboxLayout orientation="horizontal" class="title">
                <label text="Point Start" class="text"/>
                <Button  tap="hideDialog" text="&#xf00d;" class="close"/>
            </FlexboxLayout>
            <StackLayout class="content">
              <Label text="Start..." class="txt-s"></Label>
            </StackLayout>
            <FlexboxLayout class="actions">
                <Button  tap="hideDialog" text="OK" class="action"/>
            </FlexboxLayout>
        </FlexboxLayout>
      </StackLayout> 
      <!-- dlg Start-->

      <!-- dlg End-->
      <StackLayout class="lg-dialog" tap="noop" id="pointEnd">
        <FlexboxLayout stretchLastChild="true" class="dialog" tap="noop">
            <FlexboxLayout orientation="horizontal" class="title">
                <label text="Point End" class="text"/>
                <Button  tap="hideDialog" text="&#xf00d;" class="close"/>
            </FlexboxLayout>
            <StackLayout class="content">
              <Label text="End..." class="txt-s"></Label>
            </StackLayout>
            <FlexboxLayout class="actions">
                <Button tap="hideDialog" text="OK" class="action"/>
            </FlexboxLayout>
        </FlexboxLayout>
      </StackLayout> 
      <!-- dlg End-->

      <!-- dlg aboute-->
      <StackLayout class="lg-dialog" tap="noop" id="aboute">
        <FlexboxLayout   stretchLastChild="true" class="dialog  " tap="noop">
          <FlexboxLayout  orientation="horizontal" class="title headermenu" height="11%">
              <label text="Aboute" class="text"/>
              <Button  horizontalAlignment="left" tap="hideDialog" text="&#xf057;"  class="close  left  "/>
          </FlexboxLayout>
          <StackLayout class="content">
            <ScrollView width="100%"  height="100%">
             <GridLayout class="m-10" rows="auto auto auto auto auto">
                <StackLayout  row="0" orientation="horizontal">
                  <Label text="&#xf2bb;" class="aboute-txt"></Label><Label class="aboute-txt-detail" width="100%" height="auto" text="personal Information"></Label>
                </StackLayout>
                <StackLayout class="m-10" row="1" orientation="horizontal">
                  <Label text="&#xf554;" class="aboute-txt"></Label><Label class="aboute-txt-detail"  height="auto" text="Total number of people on the route" textWrap="true"></Label>
                </StackLayout>
                <StackLayout class="m-10" row="2" orientation="horizontal">
                  <Label text="&#xf09e;" class="aboute-txt"></Label><Label class="aboute-txt-detail"  height="auto" text="Signal strength bluetooth (RSSI)" textWrap="true"></Label>
                </StackLayout>
                <StackLayout class="m-10" row="3" orientation="horizontal">
                  <Label text="&#xf018;" class="aboute-txt"></Label><Label class="aboute-txt-detail"  height="auto" text="The distance from the current point" textWrap="true"></Label>
                </StackLayout>
                <Image row="4" src="~/images/FITMlogo.png" class="fas t-28 m-10 aboute-logo"></Image>
              </GridLayout>
            </ScrollView>
          </StackLayout>
        </FlexboxLayout>
      </StackLayout> 
      <!-- dlg aboute-->


    </AbsoluteLayout>
        <StackLayout width="100%"  class="bgmap ">
      <FlexboxLayout  width="100%" height="100%" class=" map-menu ">
          <Label text="&#xf2bb;" tap="user"></Label>
          <Label text="&#xf554;" tap="userCount"></Label>
           <Label text="&#xf059;" tap="aboute"></Label>
      </FlexboxLayout>
     </StackLayout>
    
  </DockLayout>
  <!--REMOVE_CARD-->
</Page>
